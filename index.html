<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recordatorio de Medicamentos</title>

  <style>
    :root{
      --azul:#2f80ed;
      --fondo:#f2f4f7;
      --blanco:#ffffff;
      --texto:#333;
      --gris:#ddd;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:Arial, Helvetica, sans-serif;
      background:var(--fondo);
      color:var(--texto);
    }

    header{
      text-align:center;
      padding:20px 10px;
    }

    header h1{
      margin:0;
      font-size:26px;
    }

    header h2{
      margin:5px 0 0;
      font-size:16px;
      color:#666;
      font-weight:normal;
    }

    .container{
      max-width:480px;
      margin:0 auto;
      padding:15px;
    }

    .card{
      background:var(--blanco);
      border-radius:16px;
      padding:20px;
      margin-bottom:20px;
      box-shadow:0 4px 10px rgba(0,0,0,0.05);
    }

    .menu-btn{
      width:100%;
      background:var(--azul);
      color:white;
      border:none;
      border-radius:12px;
      padding:16px;
      font-size:18px;
      margin:10px 0;
      cursor:pointer;
    }

    .menu-btn:active{
      opacity:0.85;
    }

    label{
      display:block;
      margin-top:15px;
      font-weight:bold;
    }

    input{
      width:100%;
      padding:12px;
      margin-top:6px;
      border-radius:10px;
      border:1px solid var(--gris);
      font-size:16px;
    }

    .switch-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-top:20px;
      background:#f6f6f6;
      padding:14px;
      border-radius:12px;
    }

    .switch-row span{
      font-size:16px;
    }

    .switch{
      position:relative;
      width:52px;
      height:28px;
    }

    .switch input{display:none}

    .slider{
      position:absolute;
      cursor:pointer;
      background:#ccc;
      border-radius:34px;
      top:0;left:0;right:0;bottom:0;
      transition:.3s;
    }

    .slider:before{
      position:absolute;
      content:"";
      height:22px;width:22px;
      left:3px;bottom:3px;
      background:white;
      border-radius:50%;
      transition:.3s;
    }

    input:checked + .slider{
      background:var(--azul);
    }

    input:checked + .slider:before{
      transform:translateX(24px);
    }

    .save-btn{
      width:100%;
      margin-top:25px;
      background:#27ae60;
      color:white;
      border:none;
      border-radius:12px;
      padding:16px;
      font-size:18px;
      cursor:pointer;
    }

    .image-box img{
      width:100%;
      border-radius:16px;
      display:block;
    }

    footer{
      text-align:center;
      font-size:14px;
      color:#777;
      margin:20px 0;
    }

    .hidden{display:none}
  </style>
</head>

<body>

<header>
  <h1>游눍 Recordatorio de Medicamentos</h1>
  <h2>Men칰 principal</h2>
</header>

<div class="container">

  <!-- BIENVENIDA -->
  <div class="card" id="welcomeBox"></div>

  <!-- MEN칔 -->
  <div class="card" id="menu">
    <button class="menu-btn" onclick="showDatos()">游녻 Datos personales</button>
    <button class="menu-btn" onclick="alert('Aqu칤 ir치n los medicamentos')">游눍 Medicamentos</button>
    <button class="menu-btn" onclick="alert('Aqu칤 ir치 el seguimiento')">游늶 Seguimiento</button>
  </div>

  <!-- DATOS PERSONALES -->
  <div class="card hidden" id="datos">
    <h3>Datos personales</h3>

    <label>Nombre</label>
    <input id="nombre">

    <label>Fecha de nacimiento</label>
    <input type="date" id="fecha">

    <label>Nombre del cuidador</label>
    <input id="cuidador">

    <label>Tel칠fono del cuidador</label>
    <input id="telefono">

    <div class="switch-row">
      <span>游댒 Vibraci칩n</span>
      <label class="switch">
        <input type="checkbox" id="vibracion">
        <span class="slider"></span>
      </label>
    </div>

    <div class="switch-row">
      <span>游댉 Aviso por voz</span>
      <label class="switch">
        <input type="checkbox" id="voz">
        <span class="slider"></span>
      </label>
    </div>

    <button class="save-btn" onclick="guardarDatos()">Guardar datos</button>
  </div>

  <!-- IMAGEN -->
  <div class="card image-box">
    <img src="personas-inclusivas.png" alt="Personas de distintas edades y capacidades">
  </div>

  <footer>
    Desarrollado por CA Tecnolog칤a
  </footer>

</div>

<script>
  function calcularEdad(fecha){
    const hoy = new Date();
    const nac = new Date(fecha);
    let a침os = hoy.getFullYear() - nac.getFullYear();
    let meses = hoy.getMonth() - nac.getMonth();
    if(meses < 0){a침os--; meses += 12;}
    return `${a침os} a침os y ${meses} meses`;
  }

  function guardarDatos(){
    const data = {
      nombre: nombre.value,
      fecha: fecha.value,
      cuidador: cuidador.value,
      telefono: telefono.value,
      vibracion: vibracion.checked,
      voz: voz.checked
    };
    localStorage.setItem("datos", JSON.stringify(data));
    location.reload();
  }

  function showDatos(){
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("datos").classList.remove("hidden");
  }

  const data = JSON.parse(localStorage.getItem("datos"));
  if(data){
    welcomeBox.innerHTML = `<h3>Bienvenido ${data.nombre}</h3>
      <p>Edad: ${calcularEdad(data.fecha)}</p>`;
    nombre.value = data.nombre;
    fecha.value = data.fecha;
    cuidador.value = data.cuidador;
    telefono.value = data.telefono;
    vibracion.checked = data.vibracion;
    voz.checked = data.voz;
  } else {
    welcomeBox.innerHTML = `<h3>Bienvenido</h3><p>Configura tus datos personales</p>`;
  }
</script>

</body>
</html>
