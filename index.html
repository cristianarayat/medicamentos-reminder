<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recordatorio de Medicamentos</title>

<style>
/* =====================
   VARIABLES
===================== */
:root{
  --bg:#eef1f4;
  --card:#ffffff;
  --primary:#2f80ed;
  --text:#333;
  --muted:#666;
  --border:#d0d4d9;
}

/* =====================
   BASE
===================== */
body{
  margin:0;
  font-family:system-ui, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

h1,h2,h3{ margin-top:0; }

.hidden{ display:none; }

.container{
  max-width:420px;
  margin:auto;
  padding:16px;
}

/* =====================
   HEADER
===================== */
header{
  text-align:center;
  padding:16px 0;
}

header img{
  width:64px;
  margin-bottom:8px;
}

/* =====================
   CARD
===================== */
.card{
  background:var(--card);
  border-radius:18px;
  padding:20px;
  margin-bottom:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.15);
}

/* =====================
   BUTTONS
===================== */
button{
  width:100%;
  height:52px;
  border:none;
  border-radius:14px;
  background:var(--primary);
  color:#fff;
  font-size:16px;
  font-weight:600;
  margin-top:12px;
  cursor:pointer;
}

button.secondary{
  background:#6c757d;
}

/* =====================
   FORM
===================== */
.field{
  margin-bottom:14px;
}

label{
  font-size:14px;
  font-weight:600;
  display:block;
  margin-bottom:6px;
}

input, select{
  width:100%;
  height:48px;
  border-radius:12px;
  border:1px solid var(--border);
  padding:10px;
  font-size:15px;
  box-sizing:border-box;
}

/* =====================
   SWITCH
===================== */
.switch-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.switch{
  position:relative;
  width:46px;
  height:24px;
}

.switch input{ display:none; }

.slider{
  position:absolute;
  inset:0;
  background:#ccc;
  border-radius:24px;
  cursor:pointer;
}

.slider:before{
  content:"";
  position:absolute;
  width:20px;
  height:20px;
  left:2px;
  top:2px;
  background:#fff;
  border-radius:50%;
  transition:.3s;
}

input:checked + .slider{
  background:var(--primary);
}

input:checked + .slider:before{
  transform:translateX(22px);
}

/* =====================
   DAYS
===================== */
.days{
  display:flex;
  gap:6px;
  margin-top:6px;
}

.days label{
  font-weight:normal;
}

/* =====================
   MED LIST
===================== */
.med-card{
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
  margin-top:12px;
}

.med-card img{
  width:100%;
  border-radius:12px;
  margin-top:8px;
}

/* =====================
   FOOTER
===================== */
footer{
  text-align:center;
  font-size:12px;
  color:#666;
  margin-top:12px;
}
</style>
</head>

<body>

<div class="container">

<header>
  <img src="personas-inclusivas.png">
  <h2 id="welcome">Bienvenido</h2>
</header>

<!-- HOME -->
<div class="card" id="home">
  <button onclick="show('personal')">Datos personales</button>
  <button onclick="show('meds')">Medicamentos</button>
</div>

<!-- DATOS PERSONALES -->
<div class="card hidden" id="personal">

<h3>Datos personales</h3>

<div class="field">
  <label>Nombre</label>
  <input id="nombre">
</div>

<div class="field">
  <label>Fecha de nacimiento</label>
  <input type="date" id="nacimiento">
</div>

<div class="field">
  <label>Nombre cuidador</label>
  <input id="cuidador">
</div>

<div class="field">
  <label>TelÃ©fono cuidador</label>
  <input id="telefono">
</div>

<div class="field switch-row">
  ðŸ”Š Voz
  <label class="switch">
    <input type="checkbox" id="voz">
    <span class="slider"></span>
  </label>
</div>

<div class="field switch-row">
  ðŸ“³ VibraciÃ³n
  <label class="switch">
    <input type="checkbox" id="vibracion">
    <span class="slider"></span>
  </label>
</div>

<div id="msgPersonal" style="color:green;font-size:14px;"></div>

<button onclick="savePersonal()">Guardar</button>
<button class="secondary" onclick="show('home')">Volver</button>

</div>

<!-- MEDICAMENTOS -->
<div class="card hidden" id="meds">

<h3>Medicamentos</h3>

<div class="field">
  <label>Nombre</label>
  <input id="mNombre">
</div>

<div class="field">
  <label>Dosis</label>
  <input id="mDosis">
</div>

<div class="field">
  <label>Tomas por dÃ­a</label>
  <input type="number" id="mVeces" min="1" value="1">
</div>

<div class="field">
  <label>Horario</label>
  <input type="time" id="mHora">
</div>

<div class="field">
  <label>DÃ­as</label>
  <div class="days">
    <label><input type="checkbox" value="L">L</label>
    <label><input type="checkbox" value="M">M</label>
    <label><input type="checkbox" value="X">X</label>
    <label><input type="checkbox" value="J">J</label>
    <label><input type="checkbox" value="V">V</label>
    <label><input type="checkbox" value="S">S</label>
    <label><input type="checkbox" value="D">D</label>
  </div>
</div>

<div class="field switch-row">
  Permanente
  <label class="switch">
    <input type="checkbox" id="mPerm" onchange="toggleDays()">
    <span class="slider"></span>
  </label>
</div>

<div class="field">
  <label>Cantidad de dÃ­as</label>
  <input type="number" id="mDias">
</div>

<div class="field">
  <label>Foto (opcional)</label>
  <input type="file" id="mFoto">
</div>

<div class="field">
  <label>Lugar donde se guarda</label>
  <input id="mLugar">
</div>

<button onclick="saveMed()">Guardar medicamento</button>

<div id="listaMeds"></div>

<button class="secondary" onclick="show('home')">Volver</button>

</div>

<footer>CA TecnologÃ­a</footer>

</div>

<script>
/* =====================
   NAVEGACIÃ“N
===================== */
function show(id){
  ["home","personal","meds"].forEach(s=>{
    document.getElementById(s).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
}

/* =====================
   PERSONAL
===================== */
function savePersonal(){
  const tel = telefono.value.replace(/\D/g,"");
  if(tel.length < 8){
    alert("TelÃ©fono invÃ¡lido");
    return;
  }
  localStorage.setItem("personal", JSON.stringify({
    nombre:nombre.value,
    nacimiento:nacimiento.value,
    cuidador:cuidador.value,
    telefono:tel,
    voz:voz.checked,
    vibracion:vibracion.checked
  }));
  msgPersonal.innerText="Datos guardados correctamente";
  updateWelcome();
}

function updateWelcome(){
  const p = JSON.parse(localStorage.getItem("personal"));
  if(!p) return;
  const n = new Date(p.nacimiento);
  const h = new Date();
  let y = h.getFullYear()-n.getFullYear();
  let m = h.getMonth()-n.getMonth();
  if(m<0){y--;m+=12;}
  welcome.innerText=`Bienvenido ${p.nombre} Â· ${y} aÃ±os ${m} meses`;
}
updateWelcome();

/* =====================
   MEDICAMENTOS
===================== */
let meds = JSON.parse(localStorage.getItem("meds")) || [];

function toggleDays(){
  mDias.disabled = mPerm.checked;
}

function saveMed(){
  const med = {
    nombre:mNombre.value,
    dosis:mDosis.value,
    hora:mHora.value,
    lugar:mLugar.value
  };
  meds.push(med);
  localStorage.setItem("meds",JSON.stringify(meds));
  renderMeds();
}

function renderMeds(){
  listaMeds.innerHTML="";
  meds.forEach(m=>{
    listaMeds.innerHTML+=`
      <div class="med-card">
        <strong>${m.nombre}</strong><br>
        ${m.dosis}<br>
        ${m.hora}<br>
        ${m.lugar}
      </div>
    `;
  });
}
renderMeds();
</script>

</body>
</html>
