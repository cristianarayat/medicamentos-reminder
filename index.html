<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recordatorio de Medicamentos</title>

<style>
:root{
  --azul:#2f80ed;
  --gris:#eef1f4;
  --card:#ffffff;
  --texto:#333;
  --borde:#d0d4d9;
}

/* ===== BASE ===== */
body{
  margin:0;
  font-family: system-ui, Arial, sans-serif;
  background:var(--gris);
  color:var(--texto);
}

/* ===== HEADER ===== */
.header{
  padding:24px 20px 12px;
  background:#f7f9fb;
  text-align:center;
}

/* ===== FONDO ===== */
.pattern-area{
  padding:20px;
}

/* ===== CARD ===== */
.card{
  max-width:420px;
  margin:0 auto;
  background:var(--card);
  padding:22px;
  border-radius:18px;
  box-shadow:0 14px 32px rgba(0,0,0,.15);
}

/* ===== FILAS ===== */
.row{
  margin-top:16px;
}

.label{
  font-size:14px;
  font-weight:600;
  color:#555;
  margin-bottom:6px;
}

.value{
  font-size:16px;
}

/* ===== INPUT ===== */
input{
  width:100%;
  box-sizing:border-box;
  padding:14px;
  border-radius:14px;
  border:1px solid var(--borde);
  font-size:16px;
}

/* ===== TOGGLES ===== */
.toggle{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px;
  border-radius:14px;
  background:#f3f5f7;
  cursor:pointer;
}

.toggle span{
  font-size:16px;
}

.toggle input{
  display:none;
}

.switch{
  width:48px;
  height:26px;
  background:#ccc;
  border-radius:13px;
  position:relative;
  transition:.2s;
}

.switch::after{
  content:"";
  width:22px;
  height:22px;
  background:#fff;
  border-radius:50%;
  position:absolute;
  top:2px;
  left:2px;
  transition:.2s;
}

input:checked + .switch{
  background:var(--azul);
}

input:checked + .switch::after{
  transform:translateX(22px);
}

/* ===== BOTONES ===== */
button{
  width:100%;
  padding:16px;
  font-size:17px;
  font-weight:700;
  border:none;
  border-radius:16px;
  background:var(--azul);
  color:white;
  cursor:pointer;
  margin-top:26px;
}

.secondary{
  background:#6c757d;
}

.hidden{ display:none; }
</style>
</head>

<body>

<div class="header">
  <h1>üíä Recordatorio de Medicamentos</h1>
  <div>Perfil del usuario</div>
</div>

<div class="pattern-area">

  <!-- RESUMEN -->
  <div class="card hidden" id="resumen">
    <div class="row"><div class="label">Usuario</div><div class="value" id="r_nombre"></div></div>
    <div class="row"><div class="label">Nacimiento</div><div class="value" id="r_nacimiento"></div></div>
    <div class="row"><div class="label">Cuidador</div><div class="value" id="r_cuidador"></div></div>
    <div class="row"><div class="label">Tel√©fono</div><div class="value" id="r_tel"></div></div>
    <div class="row"><div class="label">Aviso por voz</div><div class="value" id="r_voz"></div></div>
    <div class="row"><div class="label">Vibraci√≥n</div><div class="value" id="r_vibracion"></div></div>

    <button class="secondary" onclick="editar()">Modificar datos</button>
  </div>

  <!-- FORMULARIO -->
  <div class="card hidden" id="formulario">
    <div class="row"><div class="label">Nombre</div><input id="nombre"></div>
    <div class="row"><div class="label">Fecha de nacimiento</div><input type="date" id="nacimiento"></div>
    <div class="row"><div class="label">Cuidador</div><input id="cuidadorNombre"></div>
    <div class="row"><div class="label">Tel√©fono cuidador</div><input id="cuidadorTel"></div>

    <div class="row toggle" onclick="voz.click()">
      <span>Aviso por voz</span>
      <label><input id="voz" type="checkbox"><div class="switch"></div></label>
    </div>

    <div class="row toggle" onclick="vibracion.click()">
      <span>Vibraci√≥n</span>
      <label><input id="vibracion" type="checkbox"><div class="switch"></div></label>
    </div>

    <button onclick="guardar()">Guardar datos</button>
  </div>

</div>

<script>
let usuario = JSON.parse(localStorage.getItem("usuario")) || null;

function render(){
  if(usuario){
    formulario.classList.add("hidden");
    resumen.classList.remove("hidden");

    r_nombre.innerText = usuario.nombre;
    r_nacimiento.innerText = usuario.nacimiento;
    r_cuidador.innerText = usuario.cuidadorNombre;
    r_tel.innerText = usuario.cuidadorTel;
    r_voz.innerText = usuario.voz ? "Activado" : "Desactivado";
    r_vibracion.innerText = usuario.vibracion ? "Activada" : "Desactivada";
  }else{
    resumen.classList.add("hidden");
    formulario.classList.remove("hidden");
  }
}

function guardar(){
  usuario = {
    nombre: nombre.value,
    nacimiento: nacimiento.value,
    cuidadorNombre: cuidadorNombre.value,
    cuidadorTel: cuidadorTel.value.replace(/\D/g,''),
    voz: voz.checked,
    vibracion: vibracion.checked
  };

  localStorage.setItem("usuario", JSON.stringify(usuario));
  render();
}

function editar(){
  nombre.value = usuario.nombre;
  nacimiento.value = usuario.nacimiento;
  cuidadorNombre.value = usuario.cuidadorNombre;
  cuidadorTel.value = usuario.cuidadorTel;
  voz.checked = usuario.voz;
  vibracion.checked = usuario.vibracion;

  usuario = null;
  render();
}

render();
</script>

</body>
</html>
